<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {{ template "koipond-style.html" }}
    <title>{{ .Title }}</title>
</head>
<body>
    <!-- NAVIGATION -->
    <header>
            <a href="/collections">collections</a>&nbsp;
            <a href="/tags">tags</a>&nbsp;
            <a href="https://github.com/cicovic-andrija/koipond" target="_blank">code</a>&nbsp;
    </header>

    <!-- SUPERTITLE, TITLE -->
    {{ if .Supertitle }}<h4>{{ .Supertitle }}</h4>{{ end }}
    <h1>{{ .Title }}</h1>
    <p></p>

    {{ if .DisplayTags }}<small><i>tags</i></small><br>
    {{ range .Data.Tags }}
    <a class="tag-link" href="/tags/{{ . }}">{{ . }}</a>
    {{ end }}
    {{ end }}

    {{ if eq .Key "collections" }} <!-- BRANCH -->
    {{ range $key, $value := .Data }}
    <a href="/collections/{{ $key }}">{{ $value }}</a><br>
    {{ end }}
    {{ else if eq .Key "tags" }} <!-- BRANCH -->
    <table>
    {{ range $key, $value := .Data }}
    <tr>
        <td><a href="/tags/{{ $key }}">{{ $key }}</a></td>
        <td>({{ $value }})</td>
    </tr>
    {{ end }}
    </table>
    {{ else if eq .Key "catalogue" }} <!-- BRANCH -->
    {{ range $groupLabel, $group := .Data.Groups }}
    {{ if $.Data.HasMultipleGroups }}<h3>{{ $groupLabel }}</h3>{{ end }}
    <ol>
    {{ range $group }}<li><a href="/items/{{ .ID }}">{{ .Label }}</a></li>{{ end }}
    </ol>
    {{ end }}
    {{ else if eq .Key "not-found" }} <!-- BRANCH -->
    <p>{{ .Data }}</p>
    {{ else }} <!-- BRANCH: item -->
    {{ if eq .Key "books/item" }} <!-- <#hardcoded#> -->
    {{ template "koipond-books.html" .Data }}
    {{ else }} <!-- all the other types -->
    {{ end }}
    {{ end }} <!-- END -->
</body>
</html>
<p></p>
